- 외래키
    - 다른 릴레이션의 기본키를 참조하는 속성 또는 속성들의 집합을 의미함
    - 참조무결성 → 외래키 변경을 위해서는 참조 릴레이션의 기본키도 변경해야함
        - 외래키는 중복이 허용 → 유일성&최소성 X
        - 널 값 가질 수 있음
    
- 기본키
    - 후보키 중에서 특별히 선정된 주키로 중복된 값을 가질 수 없음
        - 후보키 중 기본키를 제외한 나머지 키는 대체키라고 함
    - 기본키는 후보키의 특성을 가짐 → 유일성&최소성 가짐 / 튜플 구분을 위해 반드시 필요한 키
    - 개체무결성 → 기본키를 구성하는 어떤 속성도 널 값이나 중복값을 가질 수 없음
    
    ![image.png](attachment:0635b71c-5174-4213-8f5b-9d898de82bcb:image.png)
    
- ER 다이어그램
    - E-R모델의 기본 아이디어를 시각적으로 표현하기 위한 그림
    - 실체 간의 관계는 물론 조직, 사용자, 프로그램, 데이터 등 시스템 내에서 역할을 가진 모든 실체를 표현
    - 1:1, 1:N, N:M 등의 관계유형 나타낼 수 있음
    
    ![image.png](attachment:9817503a-e836-434e-9d99-3f79c243f0b7:image.png)
    
    1:N의 관계 →  N쪽에서 1을 찾아감
    
    그래야 FK에서 검색되는 결과가 하나가 나올 수 있는 것
    
    1쪽에 있는 기본키를 다쪽에 있는 외래키로 가지고와서 테이블 열기
    
- 복합 키
    - 두개 이상의 컬럼을 묶어서 하나의 기본키로 지정하는것
        - 복합키를 만들 때 적게는 두세 개, 많게는 열 개가 넘는 열을 조합하기도 함
            - 하나의 열만으로 행을 식별하는 것이 불가능하여 두 개 이상의 열 값을 함께 사용해야 각 행이 유일한 데이터로서 가치를 지니기 때문
    - 기본키가 만약 복합키라면, 복합키 또한 당연히 유일성과 최소성을 만족해야함
    
    ![image.png](attachment:59060af3-d8bc-4a16-94a6-80ac9407274f:image.png)
    
    ex) 복합키(주문번호와 상품ID)로 기본키가 구성됨
    
    기본키(주문번호)만으로 수 정보를 알 수 없음 → 주문번호와 상품ID가 복합키가 되는 것!(주문번호와 상품ID 모두 참조해서 결정자가 되서 수량을 결정)
    
- 연관관계
    - 2개 이상의 사물이 서로 관련되어 있음을 표현
        - 사물 사이를 실선으로 연결 / 방향성은 화살표로 표현
        - 양방향관계(서로에게 영향을 줌)의 경우, 화살표 생략한 실선으로만 연결
        - 다중도(연관에 참여하는 객체의 개수)를 선 위에 표기
    
    ![image.png](attachment:8f1c4ab5-26d2-4cec-b33e-e73cf1553993:image.png)
    
- 정규화(Normalization)
    - 데이터의 중복성을 최소화하고 일관성 등을 보장하여, 데이터베이스의 품질을 보장하고 성능의 향상을 위해 수행
        
         →  데이터 중복을 배제하여 이상(삽입,삭제,갱)의 발생 방지
        
        논리적 데이터베이스 설계 단계에서, 개념적 설계 단계에서 만든 ER스키마(비정규형 릴레이션)를 관계형 데이터베이스 구조로 바꾸기위해서 관계스키마로 사상시키는 과정이 필요
        
    - 하나의 종속성이 하나의 릴레이션에 표현될 수 있도록 분해해가는 과정
    - 정규화 과정(차수가 높아질수록 제약조건 증가 / 단계적으로 수행됨)
    
    ![image.png](attachment:92bb4faf-0549-478a-9373-6e7f9673c748:image.png)
    
    - 함수적 종속(X→Y)
        
        데이터들이 어떤 기준값에 의해 종속되는 것
        
    - 완전 함수적 종속
        
        하나의 속성값으로 기본키가 구성되어있는 경우
        
    - 부분 함수적 종속
        
        기본키가 복합키라면, 부분함수적 종속 검사 필요
        
    - 이행적 종속 : A→B이고 B→C일 때,  A→C를 만족하는 관계
    
    ex)
    
    A,B를 모두 참조해야 C가 결정 → 완전함수적 종속
    
    B값만으로 C가 결정 → 부분함수적 종속
    
    - 제 1정규형(1NF)
        
        모든 열과 행의 중복지점에는 (열과 행의)해당되는 분야에서 한 개의 값(single value)을 가짐
        
    - 제 2정규형
        
        ![image.png](attachment:0d404ab3-839e-4d53-bc2f-e1005482b391:image.png)
        
        ![image.png](attachment:29d6c434-dbfb-4218-87c9-92721f32234e:image.png)
        
    - 제 3정규형
        
        ![image.png](attachment:8cd46d8b-854c-439e-9bee-c058ded832c4:image.png)
        
        → 모든 엔터티는 하나의 주제를 가지고 만들어져야함
        
    - BCNF(3.5정규형)
        
        모든 결정자는 후보키여야 함 → 후보키가 될 수 없는 속성이 결정자로 사용될 때 위배
        
        ![image.png](attachment:c5a92315-3008-4fe5-9d26-d8e6d95dd25e:image.png)
        
        A,B속성값으로 C를 결정했는데, C가 A또는B를 결정한다면 BCNF위배 
        
        A,B가 후보키 → 후보키는 최소성의 원칙이 있음
        
        ![image.png](attachment:32d6a2c6-efc5-47c2-9ffc-9c9ba3f8b517:image.png)
        
    
    [정보처리 실기_데이터베이스06강_정규화](https://youtu.be/RXQ1kZ_JHqg?si=f0OPsoOWnJXSbqca)
    
- 반 정규화
    - 시스템의 성능 향상, 개발 및 운영의 편의성 등을 위해, 정규화된 데이터 모델을 통합,중복,분리하는 과정
        - 시스템 성능이 향상되고 관리 효율성은 증가하지만, 데이터의 일관성 및 정합성이 저하될 수 있음
    1. 테이블 통합 - 두 개의 테이블이 조인되는 경우 多
    2. 테이블  분할 - 테이블을 수직 또는 수평으로 분할
    3. 중복 테이블 추가 - 여러 테이블에서 데이터를 추출해서 사용 or 다른 서버에 저장된 테이블을 이용
    4. 중복 속성 추가 - 조인해서 데이터 처리 시, 데이터 조회 경로를 단축하기위해 자주 사용하는 속성 추가